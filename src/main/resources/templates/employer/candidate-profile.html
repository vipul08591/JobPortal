<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Candidate Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

<!-- Navbar -->
<nav class="bg-white shadow-md sticky top-0 z-10">
    <div class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold text-blue-600">
            <a th:href="@{/employer/dashboard}">JobHive</a>
        </h1>
        
    </div>
</nav>

<!-- Main Content -->
<main class="max-w-4xl mx-auto px-6 py-8 flex-1 bg-white rounded-xl shadow-md mt-6">

    <!-- Header with Profile Picture -->
    <div class="flex items-center gap-6 mb-6">
        <div class="w-24 h-24 rounded-full overflow-hidden border-2 border-gray-300">
            <img th:src="@{${profile.profilePicture != null} ? '/uploads/profiles/' + ${profile.profilePicture} : '/images/default-avatar.png'}"
                 alt="Profile Picture"
                 class="w-full h-full object-cover">
        </div>
        <div>
            <h2 class="text-2xl font-bold text-gray-800" th:text="${profile.user.name}"></h2>
            <p class="text-gray-500" th:text="${profile.location != null ? profile.location : 'Location not specified'}"></p>
            <p class="text-gray-500" th:text="${profile.user.email}"></p>
        </div>
    </div>

    <!-- Profile Summary -->
    <div class="mb-6">
        <h3 class="text-xl font-semibold mb-2">Profile Summary</h3>
        <p th:text="${profile.profileSummary != null ? profile.profileSummary : 'No summary available.'}" class="text-gray-700"></p>
    </div>

    <!-- Experience -->
    <div class="mb-6">
        <h3 class="text-xl font-semibold mb-2">Experience</h3>
        <ul class="list-disc list-inside">
            <li th:each="exp : ${profile.experienceList}" 
                th:text="${exp.role} + ' at ' + ${exp.company} + ' (' + exp.startDate + ' - ' + (exp.endDate != null ? exp.endDate : 'Present') + ')'">
            </li>
            <li th:if="${#lists.isEmpty(profile.experienceList)}">N/A</li>
        </ul>
    </div>

    <!-- Education -->
    <div class="mb-6">
        <h3 class="text-xl font-semibold mb-2">Education</h3>
        <ul class="list-disc list-inside">
            <li th:each="edu : ${profile.educationList}" 
                th:text="${edu.degree} + ' at ' + ${edu.institution} + ' (' + edu.startYear + ' - ' + edu.endYear + ')'">
            </li>
            <li th:if="${#lists.isEmpty(profile.educationList)}">N/A</li>
        </ul>
    </div>

    <!-- Skills -->
    <div class="mb-6">
        <h3 class="text-xl font-semibold mb-2">Skills</h3>
        <p th:if="${#lists.isEmpty(profile.skills)}">N/A</p>
        <div th:if="${!#lists.isEmpty(profile.skills)}" class="flex flex-wrap gap-2">
            <span th:each="skill : ${profile.skills}" 
                  class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm"
                  th:text="${skill}"></span>
        </div>
    </div>

    <!-- Languages -->
    <div class="mb-6">
        <h3 class="text-xl font-semibold mb-2">Languages</h3>
        <p th:if="${#lists.isEmpty(profile.languages)}">N/A</p>
        <div th:if="${!#lists.isEmpty(profile.languages)}" class="flex flex-wrap gap-2">
            <span th:each="lang : ${profile.languages}" 
                  class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm"
                  th:text="${lang}"></span>
        </div>
    </div>

    <!-- Social Links -->
    <div class="mb-6">
        <h3 class="text-xl font-semibold mb-2">Social / Portfolio</h3>
        <ul class="list-disc list-inside">
            <li th:if="${profile.linkedIn != null}">
                <a th:href="${profile.linkedIn}" target="_blank" class="text-blue-600 hover:underline">LinkedIn</a>
            </li>
            <li th:if="${profile.github != null}">
                <a th:href="${profile.github}" target="_blank" class="text-blue-600 hover:underline">GitHub</a>
            </li>
            <li th:if="${profile.portfolioUrl != null}">
                <a th:href="${profile.portfolioUrl}" target="_blank" class="text-blue-600 hover:underline">Portfolio</a>
            </li>
            <li th:if="${profile.linkedIn == null and profile.github == null and profile.portfolioUrl == null}">N/A</li>
        </ul>
    </div>

</main>

<!-- Footer -->
<footer class="bg-white border-t py-6 text-center text-gray-500 text-sm mt-auto">
    Â© 2025 JobHive. All rights reserved.
</footer>

</body>
</html>
